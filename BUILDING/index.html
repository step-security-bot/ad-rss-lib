<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>General build instructions - Intel ad-rss-lib</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "General build instructions";
        var mkdocs_page_input_path = "BUILDING.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Intel ad-rss-lib
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../RELEASE_NOTES_AND_DISCLAIMERS/">Release Notes and Disclaimer</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Background</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss/Overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss/HLD-KeyDesignDecisionsAndAlternatives/">Design Discussions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss/UnstructuredConstellations/">Unstructured Constellations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss/HLD-ArchitectureOverview/">System Integration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss/HLD-Safety/">Safety</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss/HLD-Security/">Security</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss/Appendix-ParameterDiscussion/">Parameter Discussion</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss/SupportedRssFeatures/">Supported RSS Features</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Map Integration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss_map_integration/Main/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss_map_integration/ConstructRSSScenes/">Construction of the RSS Scenes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss_map_integration/HandleRoadBoundaries/">Handling of road boundaries</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Building</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">General build instructions</a>
    <ul class="current">
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Python Integration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss/ad_rss_python/">Core Library</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad_rss_map_integration/ad_rss_map_integration_python/">Map Integration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Doxygen</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="https://intel.github.io/ad-rss-lib/doxygen/ad_rss/index.html">Core Library</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://intel.github.io/ad-rss-lib/doxygen/ad_rss_map_integration/index.html">Map Integration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Code Coverage</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="https://intel.github.io/ad-rss-lib/coverage/ad_rss/">Core Library</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://intel.github.io/ad-rss-lib/coverage/ad_rss_map_integration/">Map Integration</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../FAQ/">FAQ</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../CHANGELOG/">Changelog</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Intel ad-rss-lib</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Building</li>
      <li class="breadcrumb-item active">General build instructions</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/intel/ad-rss-lib/edit/master/doc/BUILDING.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1>General build instructions</h1>
<h2 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h2>
<p>The components within this repository have some dependencies:</p>
<ul>
<li><strong>ad_rss</strong>:<ul>
<li>ad_physics: <a href="https://github.com/carla-simulator/map.git">https://github.com/carla-simulator/map.git</a></li>
<li>spdlog: <a href="https://github.com/gabime/spdlog.git">https://github.com/gabime/spdlog.git</a></li>
<li>Boost</li>
<li><strong>ad_rss_python</strong> (if Python binding build enabled):<ul>
<li>Python lib</li>
<li>castxml, pygccxml and py++</li>
</ul>
</li>
</ul>
</li>
<li><strong>ad_rss_map_integration</strong>:<ul>
<li><em>ad_rss</em></li>
<li>ad_map_access: <a href="https://github.com/carla-simulator/map.git">https://github.com/carla-simulator/map.git</a>
    - Boost (including components filesystem and  program_options)</li>
<li>ad_map_opendrive_reader: <a href="https://github.com/carla-simulator/map.git">https://github.com/carla-simulator/map.git</a><ul>
<li>pugixml</li>
<li>proj: <a href="https://www.osgeo.org/projects/proj/">https://www.osgeo.org/projects/proj/</a></li>
</ul>
</li>
<li>spdlog: <a href="https://github.com/gabime/spdlog.git">https://github.com/gabime/spdlog.git</a></li>
<li><strong>ad_rss_map_integration_python</strong> (if Python binding build enabled):<ul>
<li>ad_map_access_python: <a href="https://github.com/carla-simulator/map.git">https://github.com/carla-simulator/map.git</a></li>
<li>ad_physics_python: <a href="https://github.com/carla-simulator/map.git">https://github.com/carla-simulator/map.git</a></li>
<li>Python lib</li>
<li>castxml, pygccxml and py++</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><strong><em>all components when enabling unit tests</em></strong>:<ul>
<li>gtest aka. googletests &lt; 1.10 : <a href="https://github.com/google/googletest">https://github.com/google/googletest</a></li>
<li>xmlrunner</li>
</ul>
</li>
</ul>
<p>Dependencies provided by Ubunutu (&gt;= 18.04):</p>
<ul>
<li>Boost</li>
<li>pugixml</li>
<li>libproj-dev</li>
<li>gtest</li>
<li>libpython-dev</li>
</ul>
<p>Those can be installed by calling:</p>
<pre><code class="bash">$&gt;  sudo apt-get install libboost-all-dev libpugixml-dev libgtest-dev libpython-dev libproj-dev
</code></pre>

<p>Additional dependencies for the python bindings:</p>
<pre><code class="bash">$&gt;  sudo apt-get install castxml
$&gt;  pip install --user pygccxml pyplusplus xmlrunner
</code></pre>

<p>Remaining dependencies are present as GIT submodules; also to fix the version of these:</p>
<ul>
<li>ad_map_access</li>
<li>ad_map_opendrive_reader</li>
<li>ad_physics</li>
<li>spdlog</li>
</ul>
<h2 id="building">Building<a class="headerlink" href="#building" title="Permanent link">&para;</a></h2>
<p>For compiling all libraries and the dependencies, colcon is used <a href="https://colcon.readthedocs.io/">colcon</a>.
Please use the link above for installation instructions.</p>
<p>This repository is prepared as colcon workspace including all dependencies not provided as installable packages by the OS.
Those dependencies are part of the <strong>dependencies</strong> folder as GIT submodules. To properly fetch these, the submodules have to be updated and initialized.</p>
<pre><code class="bash"> ad-rss-lib$&gt;  git submodule update --init --recursive
</code></pre>

<p>Once this is done, the full set of dependencies and components can be built calling:</p>
<pre><code class="bash"> ad-rss-lib$&gt; colcon build
</code></pre>

<p>All components will be compiled respecting the dependencies between them.</p>
<p>The python bindings are disabled by default. To integrate them into the build you can make use of the prepared
colcon meta file:</p>
<pre><code class="bash"> ad-rss-lib$&gt; colcon build --metas colcon_python.meta
</code></pre>

<p><strong>colcon_python.meta</strong> enables python build (-DBUILD_PYTHON_BINDING=ON). To specify the python version to be used you call e.g.:</p>
<pre><code class="bash"> ad-rss-lib$&gt; colcon build --metas colcon_python.meta --cmake-args -DPYTHON_BINDING_VERSION=3.8
</code></pre>

<p>If cmake isn't able to find the requested python version you can try to specify the python executable explicitly (e.g. under Ubuntu22.04):</p>
<pre><code class="bash"> ad-rss-lib$&gt; colcon build --metas colcon_python.meta --cmake-args -DPYTHON_BINDING_VERSION=3.10 -DPYTHON_EXECUTABLE:FILEPATH=/usr/bin/python3.10
</code></pre>

<h2 id="build-options">Build options<a class="headerlink" href="#build-options" title="Permanent link">&para;</a></h2>
<p>There are some CMake options affecting what or how the components are built.</p>
<ul>
<li>BUILD_TESTING: Enables unit tests compilation</li>
<li>BUILD_APIDOC: Enables API documentation building</li>
<li>BUILD_HARDENING: Enables hardening compiler and linker flags</li>
<li>BUILD_PYTHON_BINDING: Enables the build of the respective python bindings</li>
<li>PYTHON_BINDING_VERSION: Select the python version to use explicitly e.g. "3.8". (Note: If that's not one of the system installed python versions,
   you have to ensure that the boost-python binding for that python version is available!)</li>
</ul>
<p>By default, all options are set to off. Any of these could be activate by adding them via the colcon call above as "--cmake-args -D&lt;OPTION&gt;=[ON|OFF]",
e.g.:</p>
<pre><code class="bash"> ad-rss-lib$&gt; colcon build --cmake-args -DBUILD_TESTING=ON -DBUILD_APIDOC=ON -DBUILD_PYTHON_BINDING=ON -DPYTHON_BINDING_VERSION=3.8
</code></pre>

<h3 id="unit-tests">Unit tests<a class="headerlink" href="#unit-tests" title="Permanent link">&para;</a></h3>
<pre><code class="bash"> ad-rss-lib$&gt; colcon build --cmake-args -DBUILD_TESTING=ON
</code></pre>

<p>When activating the Unit tests, they all can be executed with:</p>
<pre><code class="bash"> ad-rss-lib$&gt; colcon test
</code></pre>

<h3 id="api-documentation">API documentation<a class="headerlink" href="#api-documentation" title="Permanent link">&para;</a></h3>
<p>When BUILD_APIDOC is enabled, the "colcon" call will automatically generate the API documentation.</p>
<pre><code class="bash"> ad-rss-lib$&gt; colcon build --cmake-args -DBUILD_APIDOC=ON
</code></pre>

<p>The API documentation is written to the <em>apidoc</em> folder within the <em>build</em> directory.</p>
<h3 id="build-hardening">Build hardening<a class="headerlink" href="#build-hardening" title="Permanent link">&para;</a></h3>
<p>Usually, build hardening is injected by the surrounding build system. Nevertheless, the CMakeLists.txt defines
hardening flags to ensure the code is compatible to respective flags. To enable hardening compiler and linker flags:</p>
<pre><code class="bash"> ad-rss-lib$&gt; colcon build --cmake-args -DBUILD_HARDENING=ON
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../ad_rss_map_integration/HandleRoadBoundaries/" class="btn btn-neutral float-left" title="Handling of road boundaries"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../ad_rss/ad_rss_python/" class="btn btn-neutral float-right" title="Core Library">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/intel/ad-rss-lib" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../ad_rss_map_integration/HandleRoadBoundaries/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../ad_rss/ad_rss_python/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
